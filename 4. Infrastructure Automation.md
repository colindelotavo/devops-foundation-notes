# Infrastructure as Code
Infrastructure as code is a programmatic approach to infrastructure that allows leveraging development practices for systems, treating systems like code, and automating everything from the bare metal up. Tools exist to configure servers automatically, and everything can be created, changed, and destroyed programmatically. The biggest challenge in infrastructure as code is changing mindsets, and the key to treating infrastructure as code is changing infrastructure engineers' way of thinking. It's important to assume that systems are ephemeral, and servers are not something to be handcrafted and named and manually kept up anymore (cattle, not pets). 

# Golden image to foil ball
Configuration management (CM) is the process of maintaining and upgrading systems and applications on servers. It includes provisioning, deployment, and orchestration. Imperative and declarative approaches and idempotency are important in configuration management. Initially, CFEngine, Puppet, and Chef were used as provisioning tools by operations teams. Although with the shift towards the STEM cell system approach, CM tools became the de facto standard. When virtualisation gave way to cloud, CM became crucial for a well-managed environment. Orchestration became a challenge, which led to the emergence of push mechanism tools like Ansible and SaltStack. A variety of orchestrated deployment techniques, including Canary deployment, blue-green deployment, and immutable deployments have come into play.

> Note: The STEM cell system approach is a configuration management approach where the initial provisioning of a system is kept as minimal as possible, typically including only the necessary components to enable communication with the CM tool. The CM tool then takes over and provisions the rest of the system incrementally later, which helps to prevent configuration drift and provide later updates using the same mechanism.

# Immutable deployment
Immutable deployment refers to the practice of creating a declarative model of base systems, which can be used to create systems and applications. In this model, the entire container, including OS dependencies and app code, is treated as an artifact, and once it is deployed, it is immutable. Upgrades are rolled out by deploying an entirely new system, rather than changing the state via configuration management. This approach is becoming increasingly popular in the container world and is called immutable infrastructure for systems and immutable delivery for apps. Service discovery stores are used to manage and coordinate workers for container orchestration tools like Mesos and Kubernetes. The traditional approach of using a central configuration management database (CMDB) has fallen out of favor, and newer solutions like ZooKeeper, LCD, and HashiCorp Console have emerged.

# Your infrastructure toolchain
Infrastructure as code tooling depends on the backend used, such as AWS, Azure, or a container-based approach. CloudFormation templates and Azure Resource Manager templates allow you to specify infrastructure in JSON format, while HashiCorp's TerraForm provides a more abstract approach. Configuration management tools like Chef, Puppet, Ansible, Salt, or CFEngine can help dynamically configure machines, and can also be used to build images. Etcd, Zookeeper, and Consul are common tools for service discovery and state tracking. Docker platforms like Docker Swarm, Kubernetes, and Mesos allow for orchestration of containers. Habitat, by the creators of Chef, extends into the application build and deploy cycle.
